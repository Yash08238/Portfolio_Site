{"version":3,"file":"lenis.js","names":[],"sources":["../../lenis/dist/lenis.mjs"],"sourcesContent":["// package.json\r\nvar version = \"1.3.17\";\r\n\r\n// packages/core/src/maths.ts\r\nfunction clamp(min, input, max) {\r\n  return Math.max(min, Math.min(input, max));\r\n}\r\nfunction lerp(x, y, t) {\r\n  return (1 - t) * x + t * y;\r\n}\r\nfunction damp(x, y, lambda, deltaTime) {\r\n  return lerp(x, y, 1 - Math.exp(-lambda * deltaTime));\r\n}\r\nfunction modulo(n, d) {\r\n  return (n % d + d) % d;\r\n}\r\n\r\n// packages/core/src/animate.ts\r\nvar Animate = class {\r\n  isRunning = false;\r\n  value = 0;\r\n  from = 0;\r\n  to = 0;\r\n  currentTime = 0;\r\n  // These are instanciated in the fromTo method\r\n  lerp;\r\n  duration;\r\n  easing;\r\n  onUpdate;\r\n  /**\r\n   * Advance the animation by the given delta time\r\n   *\r\n   * @param deltaTime - The time in seconds to advance the animation\r\n   */\r\n  advance(deltaTime) {\r\n    if (!this.isRunning) return;\r\n    let completed = false;\r\n    if (this.duration && this.easing) {\r\n      this.currentTime += deltaTime;\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1);\r\n      completed = linearProgress >= 1;\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress);\r\n      this.value = this.from + (this.to - this.from) * easedProgress;\r\n    } else if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime);\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to;\r\n        completed = true;\r\n      }\r\n    } else {\r\n      this.value = this.to;\r\n      completed = true;\r\n    }\r\n    if (completed) {\r\n      this.stop();\r\n    }\r\n    this.onUpdate?.(this.value, completed);\r\n  }\r\n  /** Stop the animation */\r\n  stop() {\r\n    this.isRunning = false;\r\n  }\r\n  /**\r\n   * Set up the animation from a starting value to an ending value\r\n   * with optional parameters for lerping, duration, easing, and onUpdate callback\r\n   *\r\n   * @param from - The starting value\r\n   * @param to - The ending value\r\n   * @param options - Options for the animation\r\n   */\r\n  fromTo(from, to, { lerp: lerp2, duration, easing, onStart, onUpdate }) {\r\n    this.from = this.value = from;\r\n    this.to = to;\r\n    this.lerp = lerp2;\r\n    this.duration = duration;\r\n    this.easing = easing;\r\n    this.currentTime = 0;\r\n    this.isRunning = true;\r\n    onStart?.();\r\n    this.onUpdate = onUpdate;\r\n  }\r\n};\r\n\r\n// packages/core/src/debounce.ts\r\nfunction debounce(callback, delay) {\r\n  let timer;\r\n  return function(...args) {\r\n    let context = this;\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      timer = void 0;\r\n      callback.apply(context, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\n// packages/core/src/dimensions.ts\r\nvar Dimensions = class {\r\n  constructor(wrapper, content, { autoResize = true, debounce: debounceValue = 250 } = {}) {\r\n    this.wrapper = wrapper;\r\n    this.content = content;\r\n    if (autoResize) {\r\n      this.debouncedResize = debounce(this.resize, debounceValue);\r\n      if (this.wrapper instanceof Window) {\r\n        window.addEventListener(\"resize\", this.debouncedResize, false);\r\n      } else {\r\n        this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize);\r\n        this.wrapperResizeObserver.observe(this.wrapper);\r\n      }\r\n      this.contentResizeObserver = new ResizeObserver(this.debouncedResize);\r\n      this.contentResizeObserver.observe(this.content);\r\n    }\r\n    this.resize();\r\n  }\r\n  width = 0;\r\n  height = 0;\r\n  scrollHeight = 0;\r\n  scrollWidth = 0;\r\n  // These are instanciated in the constructor as they need information from the options\r\n  debouncedResize;\r\n  wrapperResizeObserver;\r\n  contentResizeObserver;\r\n  destroy() {\r\n    this.wrapperResizeObserver?.disconnect();\r\n    this.contentResizeObserver?.disconnect();\r\n    if (this.wrapper === window && this.debouncedResize) {\r\n      window.removeEventListener(\"resize\", this.debouncedResize, false);\r\n    }\r\n  }\r\n  resize = () => {\r\n    this.onWrapperResize();\r\n    this.onContentResize();\r\n  };\r\n  onWrapperResize = () => {\r\n    if (this.wrapper instanceof Window) {\r\n      this.width = window.innerWidth;\r\n      this.height = window.innerHeight;\r\n    } else {\r\n      this.width = this.wrapper.clientWidth;\r\n      this.height = this.wrapper.clientHeight;\r\n    }\r\n  };\r\n  onContentResize = () => {\r\n    if (this.wrapper instanceof Window) {\r\n      this.scrollHeight = this.content.scrollHeight;\r\n      this.scrollWidth = this.content.scrollWidth;\r\n    } else {\r\n      this.scrollHeight = this.wrapper.scrollHeight;\r\n      this.scrollWidth = this.wrapper.scrollWidth;\r\n    }\r\n  };\r\n  get limit() {\r\n    return {\r\n      x: this.scrollWidth - this.width,\r\n      y: this.scrollHeight - this.height\r\n    };\r\n  }\r\n};\r\n\r\n// packages/core/src/emitter.ts\r\nvar Emitter = class {\r\n  events = {};\r\n  /**\r\n   * Emit an event with the given data\r\n   * @param event Event name\r\n   * @param args Data to pass to the event handlers\r\n   */\r\n  emit(event, ...args) {\r\n    let callbacks = this.events[event] || [];\r\n    for (let i = 0, length = callbacks.length; i < length; i++) {\r\n      callbacks[i]?.(...args);\r\n    }\r\n  }\r\n  /**\r\n   * Add a callback to the event\r\n   * @param event Event name\r\n   * @param cb Callback function\r\n   * @returns Unsubscribe function\r\n   */\r\n  on(event, cb) {\r\n    this.events[event]?.push(cb) || (this.events[event] = [cb]);\r\n    return () => {\r\n      this.events[event] = this.events[event]?.filter((i) => cb !== i);\r\n    };\r\n  }\r\n  /**\r\n   * Remove a callback from the event\r\n   * @param event Event name\r\n   * @param callback Callback function\r\n   */\r\n  off(event, callback) {\r\n    this.events[event] = this.events[event]?.filter((i) => callback !== i);\r\n  }\r\n  /**\r\n   * Remove all event listeners and clean up\r\n   */\r\n  destroy() {\r\n    this.events = {};\r\n  }\r\n};\r\n\r\n// packages/core/src/virtual-scroll.ts\r\nvar LINE_HEIGHT = 100 / 6;\r\nvar listenerOptions = { passive: false };\r\nvar VirtualScroll = class {\r\n  constructor(element, options = { wheelMultiplier: 1, touchMultiplier: 1 }) {\r\n    this.element = element;\r\n    this.options = options;\r\n    window.addEventListener(\"resize\", this.onWindowResize, false);\r\n    this.onWindowResize();\r\n    this.element.addEventListener(\"wheel\", this.onWheel, listenerOptions);\r\n    this.element.addEventListener(\r\n      \"touchstart\",\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    );\r\n    this.element.addEventListener(\r\n      \"touchmove\",\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    );\r\n    this.element.addEventListener(\"touchend\", this.onTouchEnd, listenerOptions);\r\n  }\r\n  touchStart = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n  lastDelta = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n  window = {\r\n    width: 0,\r\n    height: 0\r\n  };\r\n  emitter = new Emitter();\r\n  /**\r\n   * Add an event listener for the given event and callback\r\n   *\r\n   * @param event Event name\r\n   * @param callback Callback function\r\n   */\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback);\r\n  }\r\n  /** Remove all event listeners and clean up */\r\n  destroy() {\r\n    this.emitter.destroy();\r\n    window.removeEventListener(\"resize\", this.onWindowResize, false);\r\n    this.element.removeEventListener(\"wheel\", this.onWheel, listenerOptions);\r\n    this.element.removeEventListener(\r\n      \"touchstart\",\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    );\r\n    this.element.removeEventListener(\r\n      \"touchmove\",\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    );\r\n    this.element.removeEventListener(\r\n      \"touchend\",\r\n      this.onTouchEnd,\r\n      listenerOptions\r\n    );\r\n  }\r\n  /**\r\n   * Event handler for 'touchstart' event\r\n   *\r\n   * @param event Touch event\r\n   */\r\n  onTouchStart = (event) => {\r\n    const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;\r\n    this.touchStart.x = clientX;\r\n    this.touchStart.y = clientY;\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.emitter.emit(\"scroll\", {\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      event\r\n    });\r\n  };\r\n  /** Event handler for 'touchmove' event */\r\n  onTouchMove = (event) => {\r\n    const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;\r\n    const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier;\r\n    const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier;\r\n    this.touchStart.x = clientX;\r\n    this.touchStart.y = clientY;\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY\r\n    };\r\n    this.emitter.emit(\"scroll\", {\r\n      deltaX,\r\n      deltaY,\r\n      event\r\n    });\r\n  };\r\n  onTouchEnd = (event) => {\r\n    this.emitter.emit(\"scroll\", {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event\r\n    });\r\n  };\r\n  /** Event handler for 'wheel' event */\r\n  onWheel = (event) => {\r\n    let { deltaX, deltaY, deltaMode } = event;\r\n    const multiplierX = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1;\r\n    const multiplierY = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1;\r\n    deltaX *= multiplierX;\r\n    deltaY *= multiplierY;\r\n    deltaX *= this.options.wheelMultiplier;\r\n    deltaY *= this.options.wheelMultiplier;\r\n    this.emitter.emit(\"scroll\", { deltaX, deltaY, event });\r\n  };\r\n  onWindowResize = () => {\r\n    this.window = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight\r\n    };\r\n  };\r\n};\r\n\r\n// packages/core/src/lenis.ts\r\nvar defaultEasing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t));\r\nvar Lenis = class {\r\n  _isScrolling = false;\r\n  // true when scroll is animating\r\n  _isStopped = false;\r\n  // true if user should not be able to scroll - enable/disable programmatically\r\n  _isLocked = false;\r\n  // same as isStopped but enabled/disabled when scroll reaches target\r\n  _preventNextNativeScrollEvent = false;\r\n  _resetVelocityTimeout = null;\r\n  _rafId = null;\r\n  /**\r\n   * Whether or not the user is touching the screen\r\n   */\r\n  isTouching;\r\n  /**\r\n   * The time in ms since the lenis instance was created\r\n   */\r\n  time = 0;\r\n  /**\r\n   * User data that will be forwarded through the scroll event\r\n   *\r\n   * @example\r\n   * lenis.scrollTo(100, {\r\n   *   userData: {\r\n   *     foo: 'bar'\r\n   *   }\r\n   * })\r\n   */\r\n  userData = {};\r\n  /**\r\n   * The last velocity of the scroll\r\n   */\r\n  lastVelocity = 0;\r\n  /**\r\n   * The current velocity of the scroll\r\n   */\r\n  velocity = 0;\r\n  /**\r\n   * The direction of the scroll\r\n   */\r\n  direction = 0;\r\n  /**\r\n   * The options passed to the lenis instance\r\n   */\r\n  options;\r\n  /**\r\n   * The target scroll value\r\n   */\r\n  targetScroll;\r\n  /**\r\n   * The animated scroll value\r\n   */\r\n  animatedScroll;\r\n  // These are instanciated here as they don't need information from the options\r\n  animate = new Animate();\r\n  emitter = new Emitter();\r\n  // These are instanciated in the constructor as they need information from the options\r\n  dimensions;\r\n  // This is not private because it's used in the Snap class\r\n  virtualScroll;\r\n  constructor({\r\n    wrapper = window,\r\n    content = document.documentElement,\r\n    eventsTarget = wrapper,\r\n    smoothWheel = true,\r\n    syncTouch = false,\r\n    syncTouchLerp = 0.075,\r\n    touchInertiaExponent = 1.7,\r\n    duration,\r\n    // in seconds\r\n    easing,\r\n    lerp: lerp2 = 0.1,\r\n    infinite = false,\r\n    orientation = \"vertical\",\r\n    // vertical, horizontal\r\n    gestureOrientation = orientation === \"horizontal\" ? \"both\" : \"vertical\",\r\n    // vertical, horizontal, both\r\n    touchMultiplier = 1,\r\n    wheelMultiplier = 1,\r\n    autoResize = true,\r\n    prevent,\r\n    virtualScroll,\r\n    overscroll = true,\r\n    autoRaf = false,\r\n    anchors = false,\r\n    autoToggle = false,\r\n    // https://caniuse.com/?search=transition-behavior\r\n    allowNestedScroll = false,\r\n    // @ts-ignore: this will be deprecated in the future\r\n    __experimental__naiveDimensions = false,\r\n    naiveDimensions = __experimental__naiveDimensions,\r\n    stopInertiaOnNavigate = false\r\n  } = {}) {\r\n    window.lenisVersion = version;\r\n    if (!wrapper || wrapper === document.documentElement) {\r\n      wrapper = window;\r\n    }\r\n    if (typeof duration === \"number\" && typeof easing !== \"function\") {\r\n      easing = defaultEasing;\r\n    } else if (typeof easing === \"function\" && typeof duration !== \"number\") {\r\n      duration = 1;\r\n    }\r\n    this.options = {\r\n      wrapper,\r\n      content,\r\n      eventsTarget,\r\n      smoothWheel,\r\n      syncTouch,\r\n      syncTouchLerp,\r\n      touchInertiaExponent,\r\n      duration,\r\n      easing,\r\n      lerp: lerp2,\r\n      infinite,\r\n      gestureOrientation,\r\n      orientation,\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      autoResize,\r\n      prevent,\r\n      virtualScroll,\r\n      overscroll,\r\n      autoRaf,\r\n      anchors,\r\n      autoToggle,\r\n      allowNestedScroll,\r\n      naiveDimensions,\r\n      stopInertiaOnNavigate\r\n    };\r\n    this.dimensions = new Dimensions(wrapper, content, { autoResize });\r\n    this.updateClassName();\r\n    this.targetScroll = this.animatedScroll = this.actualScroll;\r\n    this.options.wrapper.addEventListener(\"scroll\", this.onNativeScroll, false);\r\n    this.options.wrapper.addEventListener(\"scrollend\", this.onScrollEnd, {\r\n      capture: true\r\n    });\r\n    if (this.options.anchors || this.options.stopInertiaOnNavigate) {\r\n      this.options.wrapper.addEventListener(\r\n        \"click\",\r\n        this.onClick,\r\n        false\r\n      );\r\n    }\r\n    this.options.wrapper.addEventListener(\r\n      \"pointerdown\",\r\n      this.onPointerDown,\r\n      false\r\n    );\r\n    this.virtualScroll = new VirtualScroll(eventsTarget, {\r\n      touchMultiplier,\r\n      wheelMultiplier\r\n    });\r\n    this.virtualScroll.on(\"scroll\", this.onVirtualScroll);\r\n    if (this.options.autoToggle) {\r\n      this.checkOverflow();\r\n      this.rootElement.addEventListener(\"transitionend\", this.onTransitionEnd, {\r\n        passive: true\r\n      });\r\n    }\r\n    if (this.options.autoRaf) {\r\n      this._rafId = requestAnimationFrame(this.raf);\r\n    }\r\n  }\r\n  /**\r\n   * Destroy the lenis instance, remove all event listeners and clean up the class name\r\n   */\r\n  destroy() {\r\n    this.emitter.destroy();\r\n    this.options.wrapper.removeEventListener(\r\n      \"scroll\",\r\n      this.onNativeScroll,\r\n      false\r\n    );\r\n    this.options.wrapper.removeEventListener(\"scrollend\", this.onScrollEnd, {\r\n      capture: true\r\n    });\r\n    this.options.wrapper.removeEventListener(\r\n      \"pointerdown\",\r\n      this.onPointerDown,\r\n      false\r\n    );\r\n    if (this.options.anchors || this.options.stopInertiaOnNavigate) {\r\n      this.options.wrapper.removeEventListener(\r\n        \"click\",\r\n        this.onClick,\r\n        false\r\n      );\r\n    }\r\n    this.virtualScroll.destroy();\r\n    this.dimensions.destroy();\r\n    this.cleanUpClassName();\r\n    if (this._rafId) {\r\n      cancelAnimationFrame(this._rafId);\r\n    }\r\n  }\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback);\r\n  }\r\n  off(event, callback) {\r\n    return this.emitter.off(event, callback);\r\n  }\r\n  onScrollEnd = (e) => {\r\n    if (!(e instanceof CustomEvent)) {\r\n      if (this.isScrolling === \"smooth\" || this.isScrolling === false) {\r\n        e.stopPropagation();\r\n      }\r\n    }\r\n  };\r\n  dispatchScrollendEvent = () => {\r\n    this.options.wrapper.dispatchEvent(\r\n      new CustomEvent(\"scrollend\", {\r\n        bubbles: this.options.wrapper === window,\r\n        // cancelable: false,\r\n        detail: {\r\n          lenisScrollEnd: true\r\n        }\r\n      })\r\n    );\r\n  };\r\n  get overflow() {\r\n    const property = this.isHorizontal ? \"overflow-x\" : \"overflow-y\";\r\n    return getComputedStyle(this.rootElement)[property];\r\n  }\r\n  checkOverflow() {\r\n    if ([\"hidden\", \"clip\"].includes(this.overflow)) {\r\n      this.internalStop();\r\n    } else {\r\n      this.internalStart();\r\n    }\r\n  }\r\n  onTransitionEnd = (event) => {\r\n    if (event.propertyName.includes(\"overflow\")) {\r\n      this.checkOverflow();\r\n    }\r\n  };\r\n  setScroll(scroll) {\r\n    if (this.isHorizontal) {\r\n      this.options.wrapper.scrollTo({ left: scroll, behavior: \"instant\" });\r\n    } else {\r\n      this.options.wrapper.scrollTo({ top: scroll, behavior: \"instant\" });\r\n    }\r\n  }\r\n  onClick = (event) => {\r\n    const path = event.composedPath();\r\n    const anchorElements = path.filter(\r\n      (node) => node instanceof HTMLAnchorElement && node.getAttribute(\"href\")\r\n    );\r\n    if (this.options.anchors) {\r\n      const anchor = anchorElements.find(\r\n        (node) => node.getAttribute(\"href\")?.includes(\"#\")\r\n      );\r\n      if (anchor) {\r\n        const href = anchor.getAttribute(\"href\");\r\n        if (href) {\r\n          const options = typeof this.options.anchors === \"object\" && this.options.anchors ? this.options.anchors : void 0;\r\n          const target = `#${href.split(\"#\")[1]}`;\r\n          this.scrollTo(target, options);\r\n        }\r\n      }\r\n    }\r\n    if (this.options.stopInertiaOnNavigate) {\r\n      const internalLink = anchorElements.find(\r\n        (node) => node.host === window.location.host\r\n      );\r\n      if (internalLink) {\r\n        this.reset();\r\n      }\r\n    }\r\n  };\r\n  onPointerDown = (event) => {\r\n    if (event.button === 1) {\r\n      this.reset();\r\n    }\r\n  };\r\n  onVirtualScroll = (data) => {\r\n    if (typeof this.options.virtualScroll === \"function\" && this.options.virtualScroll(data) === false)\r\n      return;\r\n    const { deltaX, deltaY, event } = data;\r\n    this.emitter.emit(\"virtual-scroll\", { deltaX, deltaY, event });\r\n    if (event.ctrlKey) return;\r\n    if (event.lenisStopPropagation) return;\r\n    const isTouch = event.type.includes(\"touch\");\r\n    const isWheel = event.type.includes(\"wheel\");\r\n    this.isTouching = event.type === \"touchstart\" || event.type === \"touchmove\";\r\n    const isClickOrTap = deltaX === 0 && deltaY === 0;\r\n    const isTapToStop = this.options.syncTouch && isTouch && event.type === \"touchstart\" && isClickOrTap && !this.isStopped && !this.isLocked;\r\n    if (isTapToStop) {\r\n      this.reset();\r\n      return;\r\n    }\r\n    const isUnknownGesture = this.options.gestureOrientation === \"vertical\" && deltaY === 0 || this.options.gestureOrientation === \"horizontal\" && deltaX === 0;\r\n    if (isClickOrTap || isUnknownGesture) {\r\n      return;\r\n    }\r\n    let composedPath = event.composedPath();\r\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement));\r\n    const prevent = this.options.prevent;\r\n    if (!!composedPath.find(\r\n      (node) => node instanceof HTMLElement && (typeof prevent === \"function\" && prevent?.(node) || node.hasAttribute?.(\"data-lenis-prevent\") || isTouch && node.hasAttribute?.(\"data-lenis-prevent-touch\") || isWheel && node.hasAttribute?.(\"data-lenis-prevent-wheel\") || this.options.allowNestedScroll && this.checkNestedScroll(node, { deltaX, deltaY }))\r\n    ))\r\n      return;\r\n    if (this.isStopped || this.isLocked) {\r\n      if (event.cancelable) {\r\n        event.preventDefault();\r\n      }\r\n      return;\r\n    }\r\n    const isSmooth = this.options.syncTouch && isTouch || this.options.smoothWheel && isWheel;\r\n    if (!isSmooth) {\r\n      this.isScrolling = \"native\";\r\n      this.animate.stop();\r\n      event.lenisStopPropagation = true;\r\n      return;\r\n    }\r\n    let delta = deltaY;\r\n    if (this.options.gestureOrientation === \"both\") {\r\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX;\r\n    } else if (this.options.gestureOrientation === \"horizontal\") {\r\n      delta = deltaX;\r\n    }\r\n    if (!this.options.overscroll || this.options.infinite || this.options.wrapper !== window && this.limit > 0 && (this.animatedScroll > 0 && this.animatedScroll < this.limit || this.animatedScroll === 0 && deltaY > 0 || this.animatedScroll === this.limit && deltaY < 0)) {\r\n      event.lenisStopPropagation = true;\r\n    }\r\n    if (event.cancelable) {\r\n      event.preventDefault();\r\n    }\r\n    const isSyncTouch = isTouch && this.options.syncTouch;\r\n    const isTouchEnd = isTouch && event.type === \"touchend\";\r\n    const hasTouchInertia = isTouchEnd;\r\n    if (hasTouchInertia) {\r\n      delta = Math.sign(this.velocity) * Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent);\r\n    }\r\n    this.scrollTo(this.targetScroll + delta, {\r\n      programmatic: false,\r\n      ...isSyncTouch ? {\r\n        lerp: hasTouchInertia ? this.options.syncTouchLerp : 1\r\n      } : {\r\n        lerp: this.options.lerp,\r\n        duration: this.options.duration,\r\n        easing: this.options.easing\r\n      }\r\n    });\r\n  };\r\n  /**\r\n   * Force lenis to recalculate the dimensions\r\n   */\r\n  resize() {\r\n    this.dimensions.resize();\r\n    this.animatedScroll = this.targetScroll = this.actualScroll;\r\n    this.emit();\r\n  }\r\n  emit() {\r\n    this.emitter.emit(\"scroll\", this);\r\n  }\r\n  onNativeScroll = () => {\r\n    if (this._resetVelocityTimeout !== null) {\r\n      clearTimeout(this._resetVelocityTimeout);\r\n      this._resetVelocityTimeout = null;\r\n    }\r\n    if (this._preventNextNativeScrollEvent) {\r\n      this._preventNextNativeScrollEvent = false;\r\n      return;\r\n    }\r\n    if (this.isScrolling === false || this.isScrolling === \"native\") {\r\n      const lastScroll = this.animatedScroll;\r\n      this.animatedScroll = this.targetScroll = this.actualScroll;\r\n      this.lastVelocity = this.velocity;\r\n      this.velocity = this.animatedScroll - lastScroll;\r\n      this.direction = Math.sign(\r\n        this.animatedScroll - lastScroll\r\n      );\r\n      if (!this.isStopped) {\r\n        this.isScrolling = \"native\";\r\n      }\r\n      this.emit();\r\n      if (this.velocity !== 0) {\r\n        this._resetVelocityTimeout = setTimeout(() => {\r\n          this.lastVelocity = this.velocity;\r\n          this.velocity = 0;\r\n          this.isScrolling = false;\r\n          this.emit();\r\n        }, 400);\r\n      }\r\n    }\r\n  };\r\n  reset() {\r\n    this.isLocked = false;\r\n    this.isScrolling = false;\r\n    this.animatedScroll = this.targetScroll = this.actualScroll;\r\n    this.lastVelocity = this.velocity = 0;\r\n    this.animate.stop();\r\n  }\r\n  /**\r\n   * Start lenis scroll after it has been stopped\r\n   */\r\n  start() {\r\n    if (!this.isStopped) return;\r\n    if (this.options.autoToggle) {\r\n      this.rootElement.style.removeProperty(\"overflow\");\r\n      return;\r\n    }\r\n    this.internalStart();\r\n  }\r\n  internalStart() {\r\n    if (!this.isStopped) return;\r\n    this.reset();\r\n    this.isStopped = false;\r\n    this.emit();\r\n  }\r\n  /**\r\n   * Stop lenis scroll\r\n   */\r\n  stop() {\r\n    if (this.isStopped) return;\r\n    if (this.options.autoToggle) {\r\n      this.rootElement.style.setProperty(\"overflow\", \"clip\");\r\n      return;\r\n    }\r\n    this.internalStop();\r\n  }\r\n  internalStop() {\r\n    if (this.isStopped) return;\r\n    this.reset();\r\n    this.isStopped = true;\r\n    this.emit();\r\n  }\r\n  /**\r\n   * RequestAnimationFrame for lenis\r\n   *\r\n   * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus\r\n   */\r\n  raf = (time) => {\r\n    const deltaTime = time - (this.time || time);\r\n    this.time = time;\r\n    this.animate.advance(deltaTime * 1e-3);\r\n    if (this.options.autoRaf) {\r\n      this._rafId = requestAnimationFrame(this.raf);\r\n    }\r\n  };\r\n  /**\r\n   * Scroll to a target value\r\n   *\r\n   * @param target The target value to scroll to\r\n   * @param options The options for the scroll\r\n   *\r\n   * @example\r\n   * lenis.scrollTo(100, {\r\n   *   offset: 100,\r\n   *   duration: 1,\r\n   *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),\r\n   *   lerp: 0.1,\r\n   *   onStart: () => {\r\n   *     console.log('onStart')\r\n   *   },\r\n   *   onComplete: () => {\r\n   *     console.log('onComplete')\r\n   *   },\r\n   * })\r\n   */\r\n  scrollTo(target, {\r\n    offset = 0,\r\n    immediate = false,\r\n    lock = false,\r\n    programmatic = true,\r\n    // called from outside of the class\r\n    lerp: lerp2 = programmatic ? this.options.lerp : void 0,\r\n    duration = programmatic ? this.options.duration : void 0,\r\n    easing = programmatic ? this.options.easing : void 0,\r\n    onStart,\r\n    onComplete,\r\n    force = false,\r\n    // scroll even if stopped\r\n    userData\r\n  } = {}) {\r\n    if ((this.isStopped || this.isLocked) && !force) return;\r\n    if (typeof target === \"string\" && [\"top\", \"left\", \"start\", \"#\"].includes(target)) {\r\n      target = 0;\r\n    } else if (typeof target === \"string\" && [\"bottom\", \"right\", \"end\"].includes(target)) {\r\n      target = this.limit;\r\n    } else {\r\n      let node;\r\n      if (typeof target === \"string\") {\r\n        node = document.querySelector(target);\r\n        if (!node) {\r\n          if (target === \"#top\") {\r\n            target = 0;\r\n          } else {\r\n            console.warn(\"Lenis: Target not found\", target);\r\n          }\r\n        }\r\n      } else if (target instanceof HTMLElement && target?.nodeType) {\r\n        node = target;\r\n      }\r\n      if (node) {\r\n        if (this.options.wrapper !== window) {\r\n          const wrapperRect = this.rootElement.getBoundingClientRect();\r\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top;\r\n        }\r\n        const rect = node.getBoundingClientRect();\r\n        target = (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll;\r\n      }\r\n    }\r\n    if (typeof target !== \"number\") return;\r\n    target += offset;\r\n    target = Math.round(target);\r\n    if (this.options.infinite) {\r\n      if (programmatic) {\r\n        this.targetScroll = this.animatedScroll = this.scroll;\r\n        const distance = target - this.animatedScroll;\r\n        if (distance > this.limit / 2) {\r\n          target = target - this.limit;\r\n        } else if (distance < -this.limit / 2) {\r\n          target = target + this.limit;\r\n        }\r\n      }\r\n    } else {\r\n      target = clamp(0, target, this.limit);\r\n    }\r\n    if (target === this.targetScroll) {\r\n      onStart?.(this);\r\n      onComplete?.(this);\r\n      return;\r\n    }\r\n    this.userData = userData ?? {};\r\n    if (immediate) {\r\n      this.animatedScroll = this.targetScroll = target;\r\n      this.setScroll(this.scroll);\r\n      this.reset();\r\n      this.preventNextNativeScrollEvent();\r\n      this.emit();\r\n      onComplete?.(this);\r\n      this.userData = {};\r\n      requestAnimationFrame(() => {\r\n        this.dispatchScrollendEvent();\r\n      });\r\n      return;\r\n    }\r\n    if (!programmatic) {\r\n      this.targetScroll = target;\r\n    }\r\n    if (typeof duration === \"number\" && typeof easing !== \"function\") {\r\n      easing = defaultEasing;\r\n    } else if (typeof easing === \"function\" && typeof duration !== \"number\") {\r\n      duration = 1;\r\n    }\r\n    this.animate.fromTo(this.animatedScroll, target, {\r\n      duration,\r\n      easing,\r\n      lerp: lerp2,\r\n      onStart: () => {\r\n        if (lock) this.isLocked = true;\r\n        this.isScrolling = \"smooth\";\r\n        onStart?.(this);\r\n      },\r\n      onUpdate: (value, completed) => {\r\n        this.isScrolling = \"smooth\";\r\n        this.lastVelocity = this.velocity;\r\n        this.velocity = value - this.animatedScroll;\r\n        this.direction = Math.sign(this.velocity);\r\n        this.animatedScroll = value;\r\n        this.setScroll(this.scroll);\r\n        if (programmatic) {\r\n          this.targetScroll = value;\r\n        }\r\n        if (!completed) this.emit();\r\n        if (completed) {\r\n          this.reset();\r\n          this.emit();\r\n          onComplete?.(this);\r\n          this.userData = {};\r\n          requestAnimationFrame(() => {\r\n            this.dispatchScrollendEvent();\r\n          });\r\n          this.preventNextNativeScrollEvent();\r\n        }\r\n      }\r\n    });\r\n  }\r\n  preventNextNativeScrollEvent() {\r\n    this._preventNextNativeScrollEvent = true;\r\n    requestAnimationFrame(() => {\r\n      this._preventNextNativeScrollEvent = false;\r\n    });\r\n  }\r\n  checkNestedScroll(node, { deltaX, deltaY }) {\r\n    const time = Date.now();\r\n    const cache = node._lenis ??= {};\r\n    let hasOverflowX, hasOverflowY, isScrollableX, isScrollableY, scrollWidth, scrollHeight, clientWidth, clientHeight;\r\n    const gestureOrientation = this.options.gestureOrientation;\r\n    if (time - (cache.time ?? 0) > 2e3) {\r\n      cache.time = Date.now();\r\n      const computedStyle = window.getComputedStyle(node);\r\n      cache.computedStyle = computedStyle;\r\n      const overflowXString = computedStyle.overflowX;\r\n      const overflowYString = computedStyle.overflowY;\r\n      hasOverflowX = [\"auto\", \"overlay\", \"scroll\"].includes(overflowXString);\r\n      hasOverflowY = [\"auto\", \"overlay\", \"scroll\"].includes(overflowYString);\r\n      cache.hasOverflowX = hasOverflowX;\r\n      cache.hasOverflowY = hasOverflowY;\r\n      if (!hasOverflowX && !hasOverflowY) return false;\r\n      if (gestureOrientation === \"vertical\" && !hasOverflowY) return false;\r\n      if (gestureOrientation === \"horizontal\" && !hasOverflowX) return false;\r\n      scrollWidth = node.scrollWidth;\r\n      scrollHeight = node.scrollHeight;\r\n      clientWidth = node.clientWidth;\r\n      clientHeight = node.clientHeight;\r\n      isScrollableX = scrollWidth > clientWidth;\r\n      isScrollableY = scrollHeight > clientHeight;\r\n      cache.isScrollableX = isScrollableX;\r\n      cache.isScrollableY = isScrollableY;\r\n      cache.scrollWidth = scrollWidth;\r\n      cache.scrollHeight = scrollHeight;\r\n      cache.clientWidth = clientWidth;\r\n      cache.clientHeight = clientHeight;\r\n    } else {\r\n      isScrollableX = cache.isScrollableX;\r\n      isScrollableY = cache.isScrollableY;\r\n      hasOverflowX = cache.hasOverflowX;\r\n      hasOverflowY = cache.hasOverflowY;\r\n      scrollWidth = cache.scrollWidth;\r\n      scrollHeight = cache.scrollHeight;\r\n      clientWidth = cache.clientWidth;\r\n      clientHeight = cache.clientHeight;\r\n    }\r\n    if (!hasOverflowX && !hasOverflowY || !isScrollableX && !isScrollableY) {\r\n      return false;\r\n    }\r\n    if (gestureOrientation === \"vertical\" && (!hasOverflowY || !isScrollableY))\r\n      return false;\r\n    if (gestureOrientation === \"horizontal\" && (!hasOverflowX || !isScrollableX))\r\n      return false;\r\n    let orientation;\r\n    if (gestureOrientation === \"horizontal\") {\r\n      orientation = \"x\";\r\n    } else if (gestureOrientation === \"vertical\") {\r\n      orientation = \"y\";\r\n    } else {\r\n      const isScrollingX = deltaX !== 0;\r\n      const isScrollingY = deltaY !== 0;\r\n      if (isScrollingX && hasOverflowX && isScrollableX) {\r\n        orientation = \"x\";\r\n      }\r\n      if (isScrollingY && hasOverflowY && isScrollableY) {\r\n        orientation = \"y\";\r\n      }\r\n    }\r\n    if (!orientation) return false;\r\n    let scroll, maxScroll, delta, hasOverflow, isScrollable;\r\n    if (orientation === \"x\") {\r\n      scroll = node.scrollLeft;\r\n      maxScroll = scrollWidth - clientWidth;\r\n      delta = deltaX;\r\n      hasOverflow = hasOverflowX;\r\n      isScrollable = isScrollableX;\r\n    } else if (orientation === \"y\") {\r\n      scroll = node.scrollTop;\r\n      maxScroll = scrollHeight - clientHeight;\r\n      delta = deltaY;\r\n      hasOverflow = hasOverflowY;\r\n      isScrollable = isScrollableY;\r\n    } else {\r\n      return false;\r\n    }\r\n    const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0;\r\n    return willScroll && hasOverflow && isScrollable;\r\n  }\r\n  /**\r\n   * The root element on which lenis is instanced\r\n   */\r\n  get rootElement() {\r\n    return this.options.wrapper === window ? document.documentElement : this.options.wrapper;\r\n  }\r\n  /**\r\n   * The limit which is the maximum scroll value\r\n   */\r\n  get limit() {\r\n    if (this.options.naiveDimensions) {\r\n      if (this.isHorizontal) {\r\n        return this.rootElement.scrollWidth - this.rootElement.clientWidth;\r\n      } else {\r\n        return this.rootElement.scrollHeight - this.rootElement.clientHeight;\r\n      }\r\n    } else {\r\n      return this.dimensions.limit[this.isHorizontal ? \"x\" : \"y\"];\r\n    }\r\n  }\r\n  /**\r\n   * Whether or not the scroll is horizontal\r\n   */\r\n  get isHorizontal() {\r\n    return this.options.orientation === \"horizontal\";\r\n  }\r\n  /**\r\n   * The actual scroll value\r\n   */\r\n  get actualScroll() {\r\n    const wrapper = this.options.wrapper;\r\n    return this.isHorizontal ? wrapper.scrollX ?? wrapper.scrollLeft : wrapper.scrollY ?? wrapper.scrollTop;\r\n  }\r\n  /**\r\n   * The current scroll value\r\n   */\r\n  get scroll() {\r\n    return this.options.infinite ? modulo(this.animatedScroll, this.limit) : this.animatedScroll;\r\n  }\r\n  /**\r\n   * The progress of the scroll relative to the limit\r\n   */\r\n  get progress() {\r\n    return this.limit === 0 ? 1 : this.scroll / this.limit;\r\n  }\r\n  /**\r\n   * Current scroll state\r\n   */\r\n  get isScrolling() {\r\n    return this._isScrolling;\r\n  }\r\n  set isScrolling(value) {\r\n    if (this._isScrolling !== value) {\r\n      this._isScrolling = value;\r\n      this.updateClassName();\r\n    }\r\n  }\r\n  /**\r\n   * Check if lenis is stopped\r\n   */\r\n  get isStopped() {\r\n    return this._isStopped;\r\n  }\r\n  set isStopped(value) {\r\n    if (this._isStopped !== value) {\r\n      this._isStopped = value;\r\n      this.updateClassName();\r\n    }\r\n  }\r\n  /**\r\n   * Check if lenis is locked\r\n   */\r\n  get isLocked() {\r\n    return this._isLocked;\r\n  }\r\n  set isLocked(value) {\r\n    if (this._isLocked !== value) {\r\n      this._isLocked = value;\r\n      this.updateClassName();\r\n    }\r\n  }\r\n  /**\r\n   * Check if lenis is smooth scrolling\r\n   */\r\n  get isSmooth() {\r\n    return this.isScrolling === \"smooth\";\r\n  }\r\n  /**\r\n   * The class name applied to the wrapper element\r\n   */\r\n  get className() {\r\n    let className = \"lenis\";\r\n    if (this.options.autoToggle) className += \" lenis-autoToggle\";\r\n    if (this.isStopped) className += \" lenis-stopped\";\r\n    if (this.isLocked) className += \" lenis-locked\";\r\n    if (this.isScrolling) className += \" lenis-scrolling\";\r\n    if (this.isScrolling === \"smooth\") className += \" lenis-smooth\";\r\n    return className;\r\n  }\r\n  updateClassName() {\r\n    this.cleanUpClassName();\r\n    this.rootElement.className = `${this.rootElement.className} ${this.className}`.trim();\r\n  }\r\n  cleanUpClassName() {\r\n    this.rootElement.className = this.rootElement.className.replace(/lenis(-\\w+)?/g, \"\").trim();\r\n  }\r\n};\r\nexport {\r\n  Lenis as default\r\n};\r\n//# sourceMappingURL=lenis.mjs.map"],"mappings":"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"}